PREFIX spif: <http://spinrdf.org/spif#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX jur: <http://sweet.jpl.nasa.gov/2.3/humanJurisdiction.owl#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>
PREFIX foaf: <http://xmlns.com/foaf/0.1/>
PREFIX : <http://www.semanticweb.org/a3d/ontologies/2024/10/nobelOntology/>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?laureate ?numNobels (GROUP_CONCAT(DISTINCT ?category; SEPARATOR = ", ") AS ?categories) WHERE {
    {
        SELECT ?laureate (COUNT(?nobel) AS ?numNobels) WHERE {
        	?laureate :hasWon ?nobel .
    	}
    	GROUP BY ?laureate
    	HAVING (?numNobels > 1)
    }
    ?laureate2 :hasWon ?nobel2 .
    ?nobel2 :hasNobelCategory ?category .
    FILTER (?laureate2 = ?laureate)
}
GROUP BY ?laureate ?numNobels